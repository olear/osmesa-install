--- llvm/lib/Target/AMDGPU/SIISelLowering.cpp.orig	2016-03-18 14:50:46.441408208 +0100
+++ llvm/lib/Target/AMDGPU/SIISelLowering.cpp	2016-03-18 14:50:53.880566403 +0100
@@ -18,6 +18,20 @@
 #include <cmath>
 #endif
 
+
+#ifndef M_PI
+#define M_PI   3.14159265358979323846
+#endif
+
+#ifndef M_PI_2
+#define M_PI_2 1.57079632679489661923
+#endif
+
+#ifndef M_PI_4
+#define M_PI_4   0.78539816339744830962
+#endif
+
+
 #include "SIISelLowering.h"
 #include "AMDGPU.h"
 #include "AMDGPUIntrinsicInfo.h"
